<div class="juego-container">

    <div class="imagenes-columna">
        <!-- Imagen principal -->
        <img id="portada" th:src="@{'/uploads/' + ${juego.portada.ruta}}"
            th:attr="data-ruta-imagen=${juego.portada.ruta}" class="portada-img" />

        <!-- Miniaturas -->
        <div id="miniaturas" class="miniaturas-container">
            <img th:each="imagen : ${juego.imagenes}" th:if="${!imagen.portada}"
                th:src="@{'/uploads/' + ${imagen.ruta}}" th:attr="data-ruta-imagen=${imagen.ruta}" class="miniatura-img"
                onclick="cambiarPortada(this)" />
        </div>

        <!-- DescripciÃ³n debajo de las imÃ¡genes -->
        <h2 th:text="${juego.descripcion}" class="juego-descripcion"></h2>
    </div>

    <div class="detalles-columna">
        <!-- AquÃ­ podrÃ­as poner mÃ¡s info si quieres -->
    </div>

    <div class="precio-columna">
        <!-- Nombre encima del precio -->
        <h1 th:text="${juego.nombre}" class="juego-titulo" style="margin-bottom: 10px;"></h1>

        <h3 th:text="${juego.precio.cantidad + ' â‚¬'}" class="juego-precio"></h3>

        <button onclick="comprarJuego()" class="boton-comprar">Comprar</button>
    </div>

</div>


<script>
    function cambiarPortada(img) {
        const portada = document.getElementById("portada");

        // Guardamos la ruta actual de la portada
        const rutaPortadaActual = portada.getAttribute("data-ruta-imagen");
        // Ruta de la miniatura clicada
        const rutaMiniatura = img.getAttribute("data-ruta-imagen");

        // Intercambiamos las rutas (src y data-ruta-imagen)
        portada.src = `/uploads/${rutaMiniatura}`;
        portada.setAttribute("data-ruta-imagen", rutaMiniatura);

        img.src = `/uploads/${rutaPortadaActual}`;
        img.setAttribute("data-ruta-imagen", rutaPortadaActual);
    }

    function comprarJuego() {
        alert('Â¡Gracias por tu interÃ©s! Esta funciÃ³n aÃºn no estÃ¡ implementada ğŸ˜Š');
    }
</script>