<h3 class="solicitudes-title">Solicitudes de Desarrollador Pendientes</h3>
<div class="solicitudes-list">
    <div class="solicitud-card" th:each="sol : ${solicitudes}">
        <p><strong>Usuario:</strong> <span th:text="${sol.usuario.nombre}">Nombre Usuario</span></p>
        <p><strong>Portfolio URL:</strong> <a th:href="${sol.portfolioUrl}" th:text="${sol.portfolioUrl}"
                target="_blank">Portfolio</a></p>
        <p><strong>Biografía:</strong></p>
        <p th:text="${sol.biografia}">Descripción biográfica...</p>

        <form th:action="@{/solicitud/aprobar}" method="post">
            <input type="hidden" name="id" th:value="${sol.id}" />
            <button type="submit">Aprobar</button>
        </form>

        <form th:action="@{/solicitud/rechazar}" method="post">
            <input type="hidden" name="id" th:value="${sol.id}" />
            <button type="submit">Rechazar</button>
        </form>

        <hr />
    </div>
</div>

<script th:inline="javascript">
    document.addEventListener('DOMContentLoaded', function () {
        // Obtener el parámetro 'success' de la URL
        let urlParams = new URLSearchParams(window.location.search);
        let successMsg = urlParams.get('success');

        if (successMsg) {
            setTimeout(() => {
                alert(successMsg);
                removeQueryParam('success');
            }, 500);
        }

        function removeQueryParam(param) {
            const url = new URL(window.location);
            url.searchParams.delete(param);
            window.history.replaceState({}, document.title, url.toString());
        }
    });
</script>