<div class="container">
  <h1>Nuevo juego</h1>

  <form action="/juego/c" method="post" enctype="multipart/form-data" onsubmit="return validarFormulario()"
    class="form-grid">

    <!-- Nombre -->
    <div class="form-group">
      <label for="idNombre">Nombre</label>
      <input id="idNombre" type="text" name="nombre" required autofocus />
    </div>

    <!-- Precio -->
    <div class="form-group">
      <label for="precio">Precio (€)</label>
      <input type="number" step="0.01" min="0" id="precio" name="precio" placeholder="Introduce el precio" required />
    </div>

    <!-- Descripción -->
    <div class="form-group full-width">
      <label for="idDesc">Descripción</label>
      <textarea id="idDesc" name="descripcion" rows="4" required></textarea>
    </div>

    <!-- Géneros -->
    <div class="form-group full-width">
      <label>Géneros:</label>
      <div class="checkbox-inline-group" id="generos-container">
        <!-- Thymeleaf ejemplo -->
        <span th:each="genero : ${generos}">
          <label><input type="checkbox" name="generosIds" th:value="${genero.id}" th:text="${genero.nombre}"> </label>
        </span>
      </div>
      <div id="error-generos" style="color:red; display:none;">Selecciona al menos un género.</div>
    </div>

    <div class="form-group full-width">
      <label for="imagenes">Selecciona hasta 5 imágenes:</label>
      <input id="imagenes" type="file" name="imagenes" multiple accept="image/*" />
      <div id="imagenesPreview" class="preview-container"></div>

      <!-- Mensaje de ayuda -->
      <small id="mensaje-portada" style="color: #ffcc00; display: block; margin-top: 8px;">
        Haz clic en una imagen para seleccionarla como portada.
      </small>

      <!-- Campo oculto para índice de portada -->
      <input type="hidden" name="portadaIndex" id="portadaIndex" value="" />
    </div>

    <!-- Descargable -->
    <div class="form-group full-width">
      <label for="descargable">Archivo descargable (.exe, .setup, .iso, .zip):</label>
      <input type="file" id="descargable" name="descargable" accept=".zip,.rar,.exe,.iso,.setup" required>
    </div>

    <!-- Botón -->
    <div class="form-group full-width">
      <input type="submit" value="Crear nuevo juego" />
    </div>
  </form>
</div>

<script src="/js/juego/c.js"></script>