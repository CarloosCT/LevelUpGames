<div class="panel-dev">
    <h1>Panel de Desarrollador</h1>

    <div class="dev-buttons">
        <a th:href="@{/juego/c}">Crear nuevo juego</a>
    </div>

    <div th:if="${juegos != null and !juegos.isEmpty()}">
        <h3 class="game-list-title">Tus Juegos</h3>
        <div class="pagination">
            <a th:if="${currentPage > 0}" th:href="@{/panel_desarrollador/r(page=${currentPage - 1})}"
                class="page-btn">Anterior</a>

            <span th:text="'P√°gina ' + (${currentPage + 1}) + ' de ' + ${totalPages}"></span>

            <a th:if="${currentPage + 1 < totalPages}" th:href="@{/panel_desarrollador/r(page=${currentPage + 1})}"
                class="page-btn">Siguiente</a>
        </div>
        <section class="game-list">
            <div th:each="juego : ${juegos}" class="game-card">
                <div th:if="${juego.portada != null}">
                    <img th:src="${juego.portada.ruta}" th:alt="${juego.nombre}" />
                </div>
                <h3 th:text="${juego.nombre}"></h3>
                <p class="precio" th:text="${juego.precioActual != null 
                 ? (juego.precioActual.cantidad.compareTo(T(java.math.BigDecimal).ZERO) == 0 
                    ? 'Gratis' 
                    : juego.precioActual.cantidad + ' ‚Ç¨') 
                 : 'Sin precio'}">
                </p>
                <p>
                    <span th:each="genero : ${juego.generos}">
                        <span class="category" th:text="${genero.nombre}"></span>
                    </span>
                </p>

                <!-- üîß NUEVO DIV PARA ICONOS -->
                <div class="card-actions">
                    <!-- BOT√ìN DE EDITAR -->
                    <form th:action="@{/juego/u}" method="get">
                        <input type="hidden" name="id" th:value="${juego.id}" />
                        <button type="submit" title="Editar juego">
                            <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor"
                                viewBox="0 0 24 24">
                                <!-- Icono de l√°piz (editar) -->
                                <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 
        7.04a1.003 1.003 0 0 0 0-1.42l-2.34-2.34a1.003 1.003 0 0 0-1.42 
        0l-1.83 1.83 3.75 3.75 1.84-1.82z" />
                            </svg>
                        </button>
                    </form>

                    <!-- BOT√ìN DE VISIBILIDAD -->
                    <form th:action="@{/juego/visibilidad}" method="post">
                        <input type="hidden" name="id" th:value="${juego.id}" />
                        <input type="hidden" name="visible" th:value="${juego.visible}" />
                        <button type="submit" th:title="${juego.visible} ? 'Ocultar juego' : 'Mostrar juego'">
                            <svg th:if="${juego.visible}" xmlns="http://www.w3.org/2000/svg" width="36" height="36"
                                fill="currentColor" viewBox="0 0 24 24">
                                <!-- Icono de ojo cerrado -->
                                <path d="M12 5c-7.633 0-11 7-11 7s3.367 7 11 7 11-7 11-7-3.367-7-11-7zm0 12c-2.761 
        0-5-2.239-5-5 0-.473.068-.928.189-1.361l6.172 6.172c-.433.121-.888.189-1.361.189zm4.811-2.639l-6.172-6.172c.433-.121.888-.189 
        1.361-.189 2.761 0 5 2.239 5 5 0 .473-.068.928-.189 1.361zm2.646 3.785l-1.415 1.414-15-15 
        1.414-1.414 15 15z" />
                            </svg>

                            <svg th:if="${!juego.visible}" xmlns="http://www.w3.org/2000/svg" width="36" height="36"
                                fill="currentColor" viewBox="0 0 24 24">
                                <!-- Icono de ojo abierto -->
                                <path d="M12 5c-7.633 0-11 7-11 7s3.367 7 11 7 11-7 11-7-3.367-7-11-7zm0 
        12c-2.761 0-5-2.239-5-5s2.239-5 5-5 5 2.239 5 5-2.239 5-5 5zm0-8c-1.657 
        0-3 1.343-3 3s1.343 3 3 3 3-1.343 3-3-1.343-3-3-3z" />
                            </svg>
                        </button>
                    </form>
                </div>
            </div>
        </section>
    </div>

    <div th:if="${juegos == null or juegos.isEmpty()}" class="no-juegos">
        <p>Cuando hagas tu primer juego, aparecer√° aqu√≠!</p>
    </div>
</div>