<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>Panel de Desarrollador</title>
    <link rel="stylesheet" th:href="@{/css/panelDesarrollador/r.css}" />
</head>
<body>

<div class="panel-dev">
    <h1>Panel de Desarrollador</h1>

    <div class="dev-buttons">
        <a th:href="@{/juego/c}">Crear nuevo juego</a>
    </div>

    <div th:if="${juegos != null and !juegos.isEmpty()}">
        <h3 class="game-list-title">Tus Juegos</h3>
        <section class="game-list">
            <div th:each="juego : ${juegos}" class="game-card">
                <a th:href="@{/juego/u/{id}(id=${juego.id})}" target="_self" style="text-decoration: none; color: inherit;">
                    <div th:if="${juego.portada != null}">
                        <img th:src="@{'/uploads/' + ${juego.portada.ruta}}" th:alt="${juego.nombre}" style="max-width: 100%; border-radius: 8px;" />
                    </div>
                    <h3 th:text="${juego.nombre}"></h3>
                    <p class="precio"
                       th:text="${juego.precioActual != null 
                                 ? (juego.precioActual.cantidad.compareTo(T(java.math.BigDecimal).ZERO) == 0 
                                    ? 'Gratis' 
                                    : juego.precioActual.cantidad + ' €') 
                                 : 'Sin precio'}">
                    </p>
                    <p>
                        <span th:each="genero : ${juego.generos}">
                            <span class="category" th:text="${genero.nombre}"></span>
                        </span>
                    </p>
                </a>
            </div>
        </section>
    </div>

    <div th:if="${juegos == null or juegos.isEmpty()}" class="no-juegos">
        <p>Cuando hagas tu primer juego, aparecerá aquí!</p>
    </div>
</div>

</body>
</html>
